Live Free or Die Hard (released as Die Hard 4.0 outside North America) is a 2007 American action film, and the fourth installment in the Die Hard film series. The film was directed by Len Wiseman and stars Bruce Willis as John McClane. The film's name was adapted from New Hampshire's state motto, "Live Free or Die".The FBI responds to a brief computer outage at its Cyber-Security Division by tracking down top computer hackers who had been on a watch list, finding several of them have been killed. The FBI asks New York City Police Department detective John McClane to bring in Matthew "Matt" Farrell, one of the targeted hackers who had been put on the watch list. McClane arrives just in time to save Farrell from assassins working for Mai Linh, who works for her boss and love interest, Thomas Gabriel.En route to Washington, D.C., with McClane, Farrell reveals that he had been contacted by Mai, under the guise that she was working for corporate security, and that she had paid him a large sum of money to write an algorithm that could crack a specific security system for white hat purposes. Meanwhile, Gabriel orders his own crew of hackers to take control of the transportation grids and stock market, while nationally broadcasting a message threatening the United States. Farrell recognizes this as the start of a "fire sale", an attack designed to target the nation's infrastructure that is reliant on computerized systems. McClane and Farrell are driven to the FBI headquarters, but Mai poses as a dispatcher and reroutes the convoy into the path of an assault helicopter. McClane manages to fend off the attackers and destroy the helicopter.Gabriel initiates a second broadcast by showing a simulated explosion of the U.S. Capitol building, causing a public panic. Farrell guesses that his next target is likely the power grid, and the two drive to a utility superstation in West Virginia. They find a team led by Mai taking over the station. McClane manages to kill all of them, including Mai. He obtains video footage of Gabriel which he relays to the FBI. Enraged over Mai's death, Gabriel seizes control of the natural gas distribution system and redirects all of the gas into the station. McClane and Farrell escape before the station explodes, leaving much of the eastern seaboard of the United States and Canada without power.Farrell takes McClane to fellow hacker Frederick "Warlock" Kaludis. Running several generators to keep his computer systems online, Warlock identifies the piece of code Farrell wrote as a means to access data at a master Social Security Administration building at Woodlawn, Maryland. They realize the building is actually a NSA facility intended to backup the nation's entire personal and financial records in the event of a cyber attack, designed by Gabriel himself when he worked for the NSA. Warlock tells McClane and Matt that Gabriel is an extremely talented programmer and top security expert for the U.S. Department of Defense. Gabriel tried to alert the political and military leadership to critical weaknesses that made America's network infrastructure vulnerable to cyberwarfare, but his unorthodox methods led to his dismissal. Warlock runs a traceroute and manages to identify Gabriel's location, but Gabriel detects the intrusion.Gabriel taps into their connection and reveals that he has located McClane's estranged daughter, Lucy, and intends to kidnap her. McClane and Farrell race to the Woodlawn facility, where Farrell discovers that Gabriel's men are downloading all the information. He manages to encrypt the data just in time before he is captured. Gabriel kidnaps Farrell and takes him as well as Lucy, who had been kidnapped earlier, with him as his team flees from Woodlawn. McClane pursues Gabriel, hijacking his semi and enlisting Warlock to trace Gabriel's vehicle. Gabriel accesses the communication system of a U.S. Marine Corps F-35B Lightning II and, impersonating an air traffic controller, orders the pilot to attack the truck McClane is driving. McClane barely escapes, then makes his way to a nearby warehouse where Warlock has tracked Gabriel. There, Gabriel is installing the remaining files and holding Lucy and Farrell. Although McClane kills most of Gabriel's remaining henchmen, Emerson shoots him in the right shoulder.While Gabriel holds McClane at gunpoint from behind, McClane manages to shoot Gabriel's weapon through his own shoulder and kill Gabriel. Farrell then kills Emerson. An FBI tactical response team arrives and secures the scene. Afterwards, McClane tries to discourage the romantic feelings developing between Farrell and Lucy.